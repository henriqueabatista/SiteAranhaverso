<!DOCTYPE html>
<html lang="pt-br">
<head>
    <header>
        <div class="container">
            <div class="logoctt">
               <a href="index.html">Logo</a> 
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="index.html#Sobre">O que é o Aranhaverso</a></li>
                    <li><a href="index.html#Filmes">Filmes</a></li>
                    <li><a href="index.html#Personagens">Personagens</a></li>
                    <li><a href="contato.html">Contato</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desvie dos Obstáculos</title>
    <style>
        header{
    background-color: #ff0000;
    color: #ffffff;
    padding: 15px 15px 15px 15px;
    width: 100%;
    top: 0;
    position: fixed;
    z-index: 1000;

}
nav ul{
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
nav ul li{
    margin-left: 20px;
}
nav ul li a{
    color: #ffffff;
    text-decoration: none;
    
}
header .container{
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
}
.logo{
    font-size: 2em;
    font-weight: bold;
}
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #ff0000;
            font-family: Arial, sans-serif;
            flex-direction: column;
        }

        #game-container {
            position: relative;
            width: 400px;
            height: 600px;
            border: 2px solid #333;
            overflow: hidden;

            background-color: darkgray;
        }

        #player {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            border-radius: 5px;
            background-image: url(img/galeria/Miles\ Morales.jpg);
            /* Adicione sua imagem aqui, substituindo o caminho */
            /* Exemplo: background-image: url('caminho/para/sua/imagem-jogador.png'); */
            background-color: #4CAF50;
            background-size: cover;
            background-position: center;
        }

        .obstacle {
            position: absolute;
            width: 60px;
            height: 60px;
            background-image: url(img/galeria/Mancha.jpg);
            background-image: url(img/galeria/Rei\ do\ Crime.jpg);

            /* Adicione sua imagem aqui, substituindo o caminho */
            /* Exemplo: background-image: url('caminho/para/sua/imagem-obstaculo.png'); */
            background-color: #FF5722;
            background-size: cover;
            background-position: center;
        }

        #info-container {
            margin-top: 20px;
            text-align: center;
        }
        
        #timer {
            font-size: 24px;
            font-weight: bold;
        }

        #restart-button {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            background-color: #333;
            color: #fff;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>
<body>

    <h1>Desvie dos Obstáculos</h1>
    <div id="game-container">
        <div id="player"></div>
    </div>
    <div id="info-container">
        <div id="timer">Tempo: 0s</div>
        <button id="restart-button">Jogar Novamente</button>
    </div>

    <script>
        const gameContainer = document.getElementById('game-container');
        const player = document.getElementById('player');
        const timerDisplay = document.getElementById('timer');
        const restartButton = document.getElementById('restart-button');

        let isGameOver = false;
        let timer = 0;
        let obstacleSpeed = 2;
        let scoreInterval;
        let obstacleInterval;
        let animationFrameId;

        function startGame() {
            isGameOver = false;
            timer = 0;
            timerDisplay.textContent = `Tempo: 0s`;
            restartButton.style.display = 'none';

            document.querySelectorAll('.obstacle').forEach(obstacle => obstacle.remove());

            scoreInterval = setInterval(updateTimer, 1000);
            obstacleInterval = setInterval(createObstacle, 1000);
        }

        function updateTimer() {
            if (!isGameOver) {
                timer++;
                timerDisplay.textContent = `Tempo: ${timer}s`;
            }
        }

        document.addEventListener('mousemove', (e) => {
            if (!isGameOver) {
                const gameRect = gameContainer.getBoundingClientRect();
                let mouseX = e.clientX - gameRect.left;

                if (mouseX < 20) mouseX = 20;
                if (mouseX > gameRect.width - 20) mouseX = gameRect.width - 20;

                player.style.left = `${mouseX}px`;
            }
        });

        function createObstacle() {
            if (isGameOver) return;

            const obstacle = document.createElement('div');
            obstacle.classList.add('obstacle');
            
            const randomX = Math.random() * (gameContainer.clientWidth - 60);
            obstacle.style.left = `${randomX}px`;
            
            gameContainer.appendChild(obstacle);

            let obstaclePosition = 0;

            function moveObstacle() {
                if (isGameOver) {
                    obstacle.remove();
                    return;
                }

                obstaclePosition += obstacleSpeed;
                obstacle.style.top = `${obstaclePosition}px`;

                const playerRect = player.getBoundingClientRect();
                const obstacleRect = obstacle.getBoundingClientRect();

                if (obstacleRect.bottom >= playerRect.top &&
                    obstacleRect.top <= playerRect.bottom &&
                    obstacleRect.right >= playerRect.left &&
                    obstacleRect.left <= playerRect.right) {
                    
                    gameOver();
                    return;
                }

                if (obstaclePosition > gameContainer.clientHeight) {
                    obstacle.remove();
                } else {
                    animationFrameId = requestAnimationFrame(moveObstacle);
                }
            }
            animationFrameId = requestAnimationFrame(moveObstacle);
        }

        function gameOver() {
            isGameOver = true;
            clearInterval(scoreInterval);
            clearInterval(obstacleInterval);
            cancelAnimationFrame(animationFrameId);
            alert(`Fim de jogo! Seu tempo foi: ${timer} segundos.`);
            restartButton.style.display = 'block';
        }

        restartButton.addEventListener('click', startGame);

        startGame();
    </script>
</body>
</html>